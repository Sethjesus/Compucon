<!DOCTYPE html>
<html lang="en" data-lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>[Press Release] Compucon Visits YUAN & AGROMEANS | NVIDIA Jetson Edge Video AI Collaboration</title>
  <meta name="description" content="Compucon visited YUAN and AGROMEANS to explore Jetson/IGX edge video AI platforms and collaboration across healthcare, industry, robotics and agri-tech." />
  <meta name="color-scheme" content="light dark" />

  <style>
    :root{ --brand:#0f7ae5; --ink:#1f2937; --muted:#6b7280; --bg:#ffffff; --card:#ffffff; --line:#e5e7eb; }
    @media (prefers-color-scheme: dark){
      :root{ --bg:#0b0f14; --card:#0d141c; --ink:#e5e7eb; --muted:#9aa3af; --line:#1f2937; }
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans TC","Microsoft JhengHei",sans-serif;background:var(--bg);color:var(--ink);line-height:1.6}
    .wrap{max-width:1100px;margin:auto;padding:20px}
    header{padding:24px 0 8px;border-bottom:1px solid var(--line);position:relative}
    h1{margin:0 0 6px;font-size:clamp(22px,4.2vw,34px)}
    .sub{color:var(--muted);font-size:15px}
    .badge{display:inline-block;background:rgba(15,122,229,.1);color:#0f7ae5;padding:6px 10px;border-radius:999px;font-size:12px;margin-right:8px}
    .lang{position:absolute;right:0;top:22px;display:flex;gap:8px}
    .lang button{border:1px solid var(--line);background:var(--card);color:var(--ink);padding:6px 10px;border-radius:999px;cursor:pointer;font-size:13px}
    .lang button.active{border-color:var(--brand);background:var(--brand);color:#fff}

    .grid{display:grid;grid-template-columns:1fr;gap:18px;margin-top:18px}
    @media(min-width:960px){.grid{grid-template-columns:2fr 1fr}}
    article,aside{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:20px}

    h2{margin:0 0 10px;font-size:20px}
    h3{margin:18px 0 10px;font-size:18px}
    h4{margin:16px 0 8px;font-size:17px}
    ul{margin:0 0 10px 20px}
    .series{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    @media(min-width:720px){.series{grid-template-columns:repeat(3,minmax(0,1fr))}}
    .card{border:1px solid var(--line);border-radius:12px;padding:12px}
    .card b{display:block;margin-bottom:6px}

    /* Carousel */
    .carousel{position:relative;border:1px solid var(--line);border-radius:14px;overflow:hidden;background:#000}
    .slides{display:flex;transition:transform .5s ease}
    .slide{min-width:100%;height:56vw;max-height:540px;display:flex;align-items:center;justify-content:center;background:#000}
    .slide img{width:100%;height:100%;object-fit:cover}
    .arrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.45);border:none;color:#fff;width:42px;height:42px;border-radius:50%;cursor:pointer}
    .arrow:focus{outline:2px solid #fff4}
    .prev{left:10px} .next{right:10px}
    .dots{position:absolute;left:0;right:0;bottom:14px;display:flex;gap:6px;justify-content:center;z-index:5}
    .dot{width:10px;height:10px;border-radius:50%;background:#fff8;cursor:pointer;border:1px solid #fff}
    .dot.active{background:#fff}
    .thumbs{display:flex;gap:8px;overflow:auto;padding:10px;background:#0b0b0b}
    .thumbs img{width:120px;height:68px;object-fit:cover;border-radius:8px;opacity:.6;cursor:pointer;border:2px solid transparent}
    .thumbs img.active{opacity:1;border-color:#fff}
    .control{position:absolute;bottom:48px;right:12px;z-index:6}
    .control button{background:rgba(0,0,0,.6);color:#fff;border:none;border-radius:50%;width:40px;height:40px;cursor:pointer;font-size:18px}

    /* 播放進度條 */
    .progress{
      position:absolute; left:0; right:0; bottom:0;
      height:4px; background:rgba(255,255,255,.18); overflow:hidden; z-index:7;
    }
    .progress .bar{
      width:0; height:100%;
      background:var(--brand);
      animation: fill linear forwards; /* 時間由 JS 動態設定 */
    }
    @keyframes fill{ from{width:0} to{width:100%} }

    /* Visit 相簿：統一尺寸 + 微動畫 */
    .visit{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:10px;}
    @media(min-width:900px){ .visit{ grid-template-columns:repeat(4,1fr);} }
    .visit figure{margin:0;position:relative;border:1px solid var(--line);border-radius:12px;overflow:hidden;aspect-ratio:4/3;opacity:0;transform:translateY(12px) scale(.98);transition:opacity .6s ease, transform .6s ease, box-shadow .4s ease;}
    .visit img{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1.02);transition:transform .6s ease, filter .6s ease;}
    .visit figure.inview{opacity:1;transform:translateY(0) scale(1);}
    .visit figure:hover img{transform:scale(1.06);}
    .visit figure:hover{box-shadow:0 8px 20px rgba(0,0,0,.12);}
    .visit figcaption{position:absolute;left:0;right:0;bottom:0;background:linear-gradient(transparent,rgba(0,0,0,.6));color:#fff;padding:6px 8px;font-size:12px;}
    @media (prefers-reduced-motion:reduce){.visit figure,.visit img{transition:none !important;}}

    /* Fullscreen 乾淨展示 */
    .carousel:fullscreen .arrow,
    .carousel:fullscreen .thumbs,
    .carousel:fullscreen .dots,
    .carousel:fullscreen .control,
    .carousel:fullscreen .progress { display:none !important; }
    .carousel:fullscreen .slide{ height:100vh !important; max-height:100vh !important; }
    .carousel:fullscreen .slide img{ object-fit:contain !important; background:#000; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="lang" aria-label="Language Switch">
        <button id="btn-en" class="active">English</button>
        <button id="btn-zh">繁體中文</button>
      </div>
      <span class="badge" data-i18n="badge">Press Release</span>
      <h1 data-i18n="title">Compucon Visits YUAN &amp; AGROMEANS to Advance Jetson Edge Video AI Collaboration</h1>
      <div class="sub" data-i18n="sub">Date: September 15, 2025 ｜ Location: Taipei</div>
    </header>

    <!-- Carousel -->
    <section class="carousel" aria-label="Photos">
      <div class="slides" id="slides">
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan1.jpg" alt="Group photo at YUAN meeting room" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan2.jpg" alt="Showcase of Air/Edge series" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan3.jpg" alt="Eye smart camera demonstration" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan4.jpg" alt="Arc robotics platform discussion" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan5.jpg" alt="Pixel/IGX medical solutions briefing" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan6.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan7.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan8.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan9.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan10.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan11.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan12.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan13.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan14.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan15.jpg" alt="Strategy & roadmap" /></div>
        <div class="slide"><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan16.jpg" alt="Strategy & roadmap" /></div>
      </div>
      <button class="arrow prev" aria-label="Previous" id="prev">‹</button>
      <button class="arrow next" aria-label="Next" id="next">›</button>
      <div class="dots" id="dots"></div>
      <div class="thumbs" id="thumbs" aria-label="Thumbnails"></div>
      <div class="control"><button id="togglePlay" aria-label="Pause">⏸</button></div>
      <!-- 播放進度條 -->
      <div class="progress"><div class="bar" id="progBar"></div></div>
    </section>

    <div class="grid">
      <article>
        <h2 data-i18n="sec1">Key Highlights</h2>
        <p data-i18n="lead">
          Compucon engaged with <b>YUAN </b> and <b>AGROMEANS</b> on <b>NVIDIA® Jetson™ / IGX Orin™</b> based <b>edge video AI</b> platforms—covering medical imaging, smart city multi-camera analytics, robotics navigation and sensor fusion, as well as compact edge deployments and commercialization.
        </p>

        <h3 data-i18n="seriesTitle">YUAN Jetson/IGX Series at a Glance</h3>
        <div class="series">
          <div class="card"><b data-i18n="nearH">Near｜IGX Orin + dGPU</b><div data-i18n="nearP">Up to 1705 TOPS; 100Gbps QSFP; GPUDirect RDMA — for medical imaging & generative AI.</div></div>
          <div class="card"><b data-i18n="edgeH">Edge｜Industrial Platform</b><div data-i18n="edgeP">34–275 TOPS; rich I/O (CAN, UART, I²C, SPI / 10G / 4G/5G); built for 24/7 operation.</div></div>
          <div class="card"><b data-i18n="airH">Air｜Ultra-Compact Dual-Board</b><div data-i18n="airP">Up to 157 TOPS; modular I/O (GMSL/SDI/HDMI/TVI); fanless, pocket-sized.</div></div>
          <div class="card"><b data-i18n="eyeH">Eye｜All-in-One Smart Camera</b><div data-i18n="eyeP">Orin NX/Nano, 4K60, HDR, Starvis II, &lt;33ms latency — ideal for inspection & monitoring.</div></div>
          <div class="card"><b data-i18n="pixelH">Pixel｜10&quot; Medical-Grade</b><div data-i18n="pixelP">10&quot; touchscreen; IEC 60601-1; multi-view + real-time AI for hospitals.</div></div>
          <div class="card"><b data-i18n="arcH">Arc｜Robotics/Humanoid</b><div data-i18n="arcP">Built-in 9-axis IMU; supports LiDAR/depth/ultrasonic; low-latency control I/O.</div></div>
        </div>

        <h3 data-i18n="mgTitle">About AGROMEANS</h3>
        <ul>
          <li data-i18n="mg1"><b>Biotech – Cordyceps:</b> UV-stress strain boosting <i>cordycepin</i> for immunity modulation and antibiotic alternatives (B2B supplements / animal feed additives).</li>
          <li data-i18n="mg2"><b>Smart Farming IoT & Lighting:</b> AI-driven spectrum/UV control by growth stage; validated ~50% power savings and ~28% yield increase vs. legacy lighting.</li>
          <li data-i18n="mg3"><b>AgroONE visual AI:</b> edge AI + stereo vision + spectral analysis for real-time <u>poultry and livestock</u> health/weight; 50K-bird case: losses &lt;1%, 99.7% yield expectancy, ~US$80K loss reduction.</li>
          <li data-i18n="mg4"><b>Traction:</b> commercial deployments with loss reduction and higher survivability across farms.</li>
        </ul>

        <h3 data-i18n="visitTitle">Visit Highlights</h3>
        <div class="visit" id="visit">
          <figure><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan6.jpg" alt="Meeting" loading="lazy" decoding="async"><figcaption data-i18n="v1">Technical discussions</figcaption></figure>
          <figure><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan17.jpg" alt="Hands-on" loading="lazy" decoding="async"><figcaption data-i18n="v2">Hands-on product demo</figcaption></figure>
          <figure><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan18.jpg" alt="Architecture" loading="lazy" decoding="async"><figcaption data-i18n="v3">System architecture</figcaption></figure>
          <figure><img src="https://raw.githubusercontent.com/Sethjesus/Photo/main/Yuan19.png" alt="Roadmap" loading="lazy" decoding="async"><figcaption data-i18n="v4">Collaboration roadmap</figcaption></figure>
        </div>
      </article>

      <aside>
        <h3 data-i18n="aboutTitle">About YUAN</h3>
        <p data-i18n="about">YUAN specializes in one-stop <b>Capture × Encode × Stream × AI</b> video solutions with SDK and customization services.</p>
        <h3 data-i18n="coreTitle">Core Technologies</h3>
        <ul>
          <li data-i18n="core1">AV1 4:4:4, GPUDirect/RDMA, 5G low-latency streaming</li>
          <li data-i18n="core2">Sony Starvis II, hardware HDR ISP, IP-rated / wide-temp fanless designs</li>
          <li data-i18n="core3">NVIDIA JetPack / Metropolis / Holoscan / Isaac ecosystem</li>
        </ul>

        <!-- AGROMEANS -->
        <h3 data-i18n="mgAboutTitle">About AGROMEANS</h3>
        <p data-i18n="mgAbout">
          AGROMEANS focuses on <b>poultry & livestock</b> and <b>biotech agri</b>, combining edge AI, smart lighting,
          and bio-ingredients to improve animal health, yield and sustainability.
        </p>
        <h3 data-i18n="mgCoreTitle">Core Capabilities</h3>
        <ul>
          <li data-i18n="mgCore1"><b>AgroONE Visual AI:</b> real-time flock monitoring (health, weight, activity) with edge analytics.</li>
          <li data-i18n="mgCore2"><b>Smart Farming IoT & Lighting:</b> AI-driven spectrum/UV control by growth stage to cut power and boost yield.</li>
          <li data-i18n="mgCore3"><b>Biotech Cordyceps:</b> UV-stress strain elevates <i>cordycepin</i> for immunity modulation; B2B feed & supplement use.</li>
          <li data-i18n="mgCore4"><b>Outcome-Driven Deployments:</b> validated loss reduction & higher survivability across commercial farms.</li>
        </ul>
      </aside>
    </div>

    <footer><span data-i18n="footer">© 2025 Compucon · YUAN High-Tech · AGROMEANS — Media reference</span></footer>
  </div>

  <script>
    // ---- i18n (EN default) ----
    const dict = {
      en: {
        badge:"Press Release",
        title:"Compucon Visits YUAN & AGROMEANS to Advance Jetson Edge Video AI Collaboration",
        sub:"Date: September 15, 2025 ｜ Location: Taipei",
        sec1:"Key Highlights",
        lead:"Compucon engaged with <b>YUAN </b> and <b>AGROMEANS</b> on <b>NVIDIA® Jetson™ / IGX Orin™</b> based <b>edge video AI</b> platforms—covering medical imaging, smart city multi-camera analytics, robotics navigation and sensor fusion, as well as compact edge deployments and commercialization.",
        seriesTitle:"YUAN Jetson/IGX Series at a Glance",
        nearH:"Near｜IGX Orin + dGPU", nearP:"Up to 1705 TOPS; 100Gbps QSFP; GPUDirect RDMA — for medical imaging & generative AI.",
        edgeH:"Edge｜Industrial Platform", edgeP:"34–275 TOPS; rich I/O (CAN, UART, I²C, SPI / 10G / 4G/5G); built for 24/7 operation.",
        airH:"Air｜Ultra-Compact Dual-Board", airP:"Up to 157 TOPS; modular I/O (GMSL/SDI/HDMI/TVI); fanless, pocket-sized.",
        eyeH:"Eye｜All-in-One Smart Camera", eyeP:"Orin NX/Nano, 4K60, HDR, Starvis II, <33ms latency — ideal for inspection & monitoring.",
        pixelH:"Pixel｜10\" Medical-Grade", pixelP:"10\" touchscreen; IEC 60601-1; multi-view + real-time AI for hospitals.",
        arcH:"Arc｜Robotics/Humanoid", arcP:"Built-in 9-axis IMU; supports LiDAR/depth/ultrasonic; low-latency control I/O.",
        mgTitle:"About AGROMEANS",
        mg1:"<b>Biotech – Cordyceps:</b> UV-stress strain boosting <i>cordycepin</i> for immunity modulation and antibiotic alternatives (B2B supplements / animal feed additives).",
        mg2:"<b>Smart Farming IoT & Lighting:</b> AI-driven spectrum/UV control by growth stage; validated ~50% power savings and ~28% yield increase vs. legacy lighting.",
        mg3:"<b>AgroONE visual AI:</b> edge AI + stereo vision + spectral analysis for real-time <u>poultry and livestock</u> health/weight; 50K-bird case: losses &lt;1%, 99.7% yield expectancy, ~US$80K loss reduction.",
        mg4:"<b>Traction:</b> commercial deployments with loss reduction and higher survivability across farms.",
        visitTitle:"Visit Highlights",
        v1:"Technical discussions", v2:"Hands-on product demo", v3:"System architecture", v4:"Collaboration roadmap",
        aboutTitle:"About YUAN",
        about:"YUAN specializes in one-stop <b>Capture × Encode × Stream × AI</b> video solutions with SDK and customization services.",
        coreTitle:"Core Technologies",
        core1:"AV1 4:4:4, GPUDirect/RDMA, 5G low-latency streaming",
        core2:"Sony Starvis II, hardware HDR ISP, IP-rated / wide-temp fanless designs",
        core3:"NVIDIA JetPack / Metropolis / Holoscan / Isaac ecosystem",
        mgAboutTitle:"About AGROMEANS",
        mgAbout:"AGROMEANS focuses on <b>poultry & livestock</b> and <b>biotech agri</b>, combining edge AI, smart lighting, and bio-ingredients to improve animal health, yield and sustainability.",
        mgCoreTitle:"Core Capabilities",
        mgCore1:"<b>AgroONE Visual AI:</b> real-time flock monitoring (health, weight, activity) with edge analytics.",
        mgCore2:"<b>Smart Farming IoT & Lighting:</b> AI-driven spectrum/UV control by growth stage to cut power and boost yield.",
        mgCore3:"<b>Biotech Cordyceps:</b> UV-stress strain elevates <i>cordycepin</i> for immunity modulation; B2B feed & supplement use.",
        mgCore4:"<b>Outcome-Driven Deployments:</b> validated loss reduction & higher survivability across commercial farms.",
        footer:"© 2025 Compucon · YUAN High-Tech · AGROMEANS — Media reference"
      },
      "zh-Hant": {
        badge:"新聞稿",
        title:"Compucon 拜訪 YUAN（聰泰科技）、AGROMEANS（明谷生技科技），攜手推進 Jetson 影像 AI 合作",
        sub:"發布日期：2025-09-15｜地點：台北",
        sec1:"合作亮點",
        lead:"Compucon 與 <b>YUAN（聰泰科技）</b>、<b>AGROMEANS（明谷生技科技）</b> 就 <b>NVIDIA® Jetson™ / IGX Orin™</b> <b>邊緣影像 AI</b> 平台深入交流，涵蓋醫療級即時視覺、智慧城市多路影像、機器人導航與感測融合，以及精巧邊緣部署與商業落地。",
        seriesTitle:"YUAN Jetson/IGX 系列總覽",
        nearH:"Near｜IGX Orin + dGPU 擴充", nearP:"最高 1705 TOPS；100Gbps QSFP；GPUDirect RDMA——醫療影像／生成式 AI。",
        edgeH:"Edge｜工業級標準化平台", edgeP:"34–275 TOPS；豐富 I/O（CAN、UART、I²C、SPI／10G／4G/5G）；全天候 24/7 運行。",
        airH:"Air｜超小型雙板設計", airP:"至多 157 TOPS；模組化 I/O（GMSL/SDI/HDMI/TVI）；無風扇、掌上型。",
        eyeH:"Eye｜一體化智慧相機", eyeP:"Orin NX/Nano、4K60、HDR、Starvis II、&lt;33ms 延遲——監控／檢測最佳。",
        pixelH:"Pixel｜10\" 醫療級", pixelP:"10\" 觸控；IEC 60601-1；多視角＋即時 AI，適用醫院場域。",
        arcH:"Arc｜機器人／人形", arcP:"內建 9 軸 IMU；支援 LiDAR/深度/超音波；低延遲控制 I/O。",
        mgTitle:"關於 AGROMEANS",
        mg1:"<b>生技—冬蟲夏草：</b> UV 壓力培養提升<i>蟲草素</i>，用於免疫調節與抗生素替代（B2B 保健品／動物飼料添加）。",
        mg2:"<b>智慧農業 IoT 與補光：</b> 依生長期自動調整光譜／UV；相較傳統燈具可省電約 50%、增產約 28%。",
        mg3:"<b>AgroONE 影像 AI：</b> 邊緣 AI + 立體視覺 + 光譜分析，即時觀測<u>家禽與畜牧</u>健康／體重；5 萬隻示範場：異常損失 &lt;1%、產量期望 99.7%、減少約 8 萬美元損失。",
        mg4:"<b>落地成果：</b> 已於商業化牧場驗證可降低損失並提升存活率。",
        visitTitle:"拜訪花絮",
        v1:"技術交流", v2:"產品動手測", v3:"系統架構", v4:"合作路線圖",
        aboutTitle:"關於 YUAN",
        about:"專注「擷取 × 編碼 × 串流 × AI」一站式影像 AI 解決方案，並提供 SDK 與客製化整合服務。",
        coreTitle:"核心技術",
        core1:"AV1 4:4:4、GPUDirect/RDMA、5G 低延遲串流",
        core2:"Sony Starvis II、硬體 HDR ISP、IP 防護／寬溫無風扇設計",
        core3:"NVIDIA JetPack / Metropolis / Holoscan / Isaac 生態系",
        mgAboutTitle:"關於 AGROMEANS",
        mgAbout:"AGROMEANS 深耕<b>家禽與畜牧</b>及<b>生技科技農業</b>，結合邊緣 AI、智慧補光與生技原料，提升動物健康、產量與永續表現。",
        mgCoreTitle:"核心能力",
        mgCore1:"<b>AgroONE 影像 AI：</b> 即時監測禽畜健康／體重／活動，於邊緣端完成分析。",
        mgCore2:"<b>智慧農業 IoT 與補光：</b> 依生長期自動調整光譜／UV，節能並增產。",
        mgCore3:"<b>冬蟲夏草：</b> UV 壓力培養提升<i>蟲草素</i>，用於免疫調節；B2B 飼料添加與保健品應用。",
        mgCore4:"<b>成效導向佈署：</b> 商業場域驗證可降低損失、提升存活率。",
        footer:"© 2025 Compucon · YUAN 聰泰科技 · 明谷生技科技 — 媒體資料"
      }
    };

    function setLang(lang){
      document.documentElement.lang = (lang === "zh-Hant" ? "zh-Hant" : "en");
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        const pack = dict[lang];
        if(pack[key] !== undefined) el.innerHTML = pack[key];
      });
      document.getElementById("btn-en").classList.toggle("active", lang==="en");
      document.getElementById("btn-zh").classList.toggle("active", lang==="zh-Hant");
    }
    // init EN as default
    setLang("en");
    document.getElementById("btn-en").onclick = ()=>setLang("en");
    document.getElementById("btn-zh").onclick = ()=>setLang("zh-Hant");

    // ---------- Carousel logic ----------
    const slides = document.getElementById('slides');
    const frames = Array.from(slides.children);
    const dotsWrap = document.getElementById('dots');
    const thumbsWrap = document.getElementById('thumbs');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const toggleBtn = document.getElementById('togglePlay');
    const carousel = document.querySelector('.carousel');
    const progBar = document.getElementById('progBar');

    let idx = 0, timer = null, playing = true, idleResumeTimer = null;
    const DUR = 6000;          // 每張停留 6 秒
    const IDLE_AFTER = 15000;  // 互動 15 秒後自動恢復播放

    function go(n){
      idx = (n + frames.length) % frames.length;
      slides.style.transform = `translateX(-${idx*100}%)`;
      updateDots(); updateThumbs();
      if (playing) { restart(); } else { startProgress(); }
    }
    function next(){ go(idx+1) }
    function prev(){ go(idx-1) }

    function updateDots(){
      dotsWrap.querySelectorAll('.dot').forEach((d,i)=>d.classList.toggle('active', i===idx));
    }
    function updateThumbs(){
      thumbsWrap.querySelectorAll('img').forEach((t,i)=>t.classList.toggle('active', i===idx));
      const active = thumbsWrap.querySelector('img.active');
      if(active){ active.scrollIntoView({behavior:'smooth',inline:'center',block:'nearest'}); }
    }

    function play(){
      clearInterval(timer);
      timer = setInterval(next, DUR);
      playing = true;
      toggleBtn.textContent = "⏸";
      toggleBtn.setAttribute("aria-label","Pause");
      startProgress();
    }
    function pause(){
      clearInterval(timer);
      playing = false;
      toggleBtn.textContent = "▶";
      toggleBtn.setAttribute("aria-label","Play");
      if (progBar) progBar.style.animationPlayState = 'paused';
    }
    function restart(){
      clearInterval(timer);
      timer = setInterval(next, DUR);
      startProgress();
    }

    // 進度條控制
    function startProgress(){
      if (!progBar) return;
      progBar.style.animation = 'none';
      void progBar.offsetWidth; // 強制重繪以重置動畫
      progBar.style.animation = `fill ${DUR}ms linear forwards`;
      progBar.style.animationPlayState = playing ? 'running' : 'paused';
    }

    function pauseAndResumeLater(){
      pause();
      clearTimeout(idleResumeTimer);
      idleResumeTimer = setTimeout(()=>{ play(); }, IDLE_AFTER);
    }

    // dots + thumbs
    frames.forEach((slide,i)=>{
      const d=document.createElement('div');
      d.className='dot'+(i===0?' active':'');
      d.setAttribute('role','button'); d.setAttribute('aria-label','Go to slide '+(i+1));
      d.onclick=()=>{ go(i); pauseAndResumeLater(); };
      dotsWrap.appendChild(d);

      const t=document.createElement('img');
      const imgEl = slide.querySelector('img');
      t.src = imgEl.currentSrc || imgEl.src;
      t.alt='thumb '+(i+1);
      if(i===0) t.classList.add('active');
      t.loading='lazy'; t.decoding='async';
      t.onclick=()=>{ go(i); pauseAndResumeLater(); };
      thumbsWrap.appendChild(t);
    });

    // 控制按鈕
    toggleBtn.onclick=()=>{ playing ? pause() : play(); };
    nextBtn.onclick=()=>{ next(); pauseAndResumeLater(); };
    prevBtn.onclick=()=>{ prev(); pauseAndResumeLater(); };

    // 鍵盤快捷鍵
    document.addEventListener("keydown",(e)=>{
      if(e.code==="Space"){ e.preventDefault(); playing?pause():play(); }
      if(e.code==="ArrowRight"){ next(); pauseAndResumeLater(); }
      if(e.code==="ArrowLeft"){ prev(); pauseAndResumeLater(); }
      if(e.code==="KeyF"){ toggleFullscreen(); }
    });

    // Fullscreen
    function toggleFullscreen(){
      if(!document.fullscreenElement){
        carousel.requestFullscreen().catch(err=>console.warn(err));
      } else { document.exitFullscreen(); }
    }
    document.addEventListener('fullscreenchange', ()=>{ /* 需要時可在此調整 */ });

    // Visit cards：進入視窗才淡入
    (function(){
      const cards = document.querySelectorAll('.visit figure');
      if(!cards.length) return;
      if(!('IntersectionObserver' in window)){
        cards.forEach(el=>el.classList.add('inview'));
        return;
      }
      const io = new IntersectionObserver((entries, obs)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            e.target.classList.add('inview');
            obs.unobserve(e.target);
          }
        });
      }, { threshold: 0.2 });
      cards.forEach(el=>io.observe(el));
    })();

    // Start
    play();
  </script>
</body>
</html>
